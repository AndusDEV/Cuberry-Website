<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cuberry Launcher</title>
    <link rel="icon" type="image/x-icon" href="/logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <header>
        <div class="wrapper">
            <img src="/logo.png" width="64">
            <h1>Cuberry Launcher</h1>
            <nav>
                <a href="#features" class="button">Features</a>
                <a href="#downloads" class="button primary">Download</a>
            </nav>
        </div>
    </header>

    <main class="wrapper">
        <section class="intro">
            <h2>One launcher for multiple games</h2>
            <p>A handy Linux launcher that lets you run multiple sandbox voxel games all in one place.</p>
            <a href="#downloads" class="button primary">Download Now</a>
        </section>

        <hr>

        <section id="features" class="features-list">
            <h2>Features:</h2>
            <div class="feature-item">
                <img src="/screenshots/launcher.png" alt="Multiple Games" />
                <div class="feature-text">
                    <h3>Multiple Games</h3>
                    <p>The official Minecraft Launcher doesn’t support Bedrock, Dungeons, or Legends on Linux. Cuberry
                        bridges that gap and adds more games too.</p>
                </div>
            </div>

            <div class="feature-item">
                <div class="feature-text">
                    <h3>Configure & Launch</h3>
                    <p>Enable or hide games as you wish. Use your favorite launchers for each game:</p>
                    <ul>
                        <li><strong>MC Java:</strong> MultiMC, Prism Launcher, (and more based on MultiMC)</li>
                        <li><strong>MC Bedrock:</strong> MCPE Launcher</li>
                        <li><strong>MC Dungeons, Legends:</strong> Steam</li>
                        <li><strong>MC Story Mode 1 & 2:</strong> Steam or Lutris (GOG)</li>
                        <li><strong>MC Xbox 360:</strong> Xenia with Proton Experimental</li>
                        <li><strong>MC Classic:</strong> Web Browser</li>
                        <li><strong>Vintage Story:</strong> Binary or Flatpak</li>
                        <li><strong>Terraria:</strong> Steam</li>
                        <li><strong>Luanti (formerly Minetest):</strong> Binary or Flatpak</li>
                        <li><strong>Classicube:</strong> Binary</li>
                    </ul>
                </div>
                <img src="/screenshots/settings.png" alt="Configure and Launch" />
            </div>

            <div class="feature-item">
                <img src="/screenshots/update.png" alt="Update Checker" />
                <div class="feature-text">
                    <h3>Update Checker</h3>
                    <p>Cuberry checks for new updates every time you launch it - so you’re always running the latest version with the newest features and fixes.</p>
                </div>
            </div>
        </section>

        <hr>

        <section id="downloads" class="downloads">
            <h2>Get Cuberry:</h2>
            <div class="button-group">
                <a id="downloadBinary" class="button primary" href="#" target="_blank" rel="noopener noreferrer">Download the binary</a>
                <a href="#" class="button">Install with Flatpak (not ready)</a>
                <a id="downloadOlder" class="button" href="https://github.com/AndusDEV/Cuberry/releases">Older Releases</a>
            </div>
        </section>

        <section id="extras" class="downloads">
            <h3>Extras:</h3>
            <p>Download extras for Cuberry:</p>
            <a href="/desktop-gen" class="button primary">Generate a .desktop file</a>
            <ul>
                <li>Add Cuberry to your app launcher menu or desktop.</li>
            </ul>
        </section>
    </main>

    <footer>
        <p><a href="https://github.com/AndusDEV/Cuberry">Source Code</a> | <a href="https://discord.gg/xjYFtN3pCw">Discord Server</a></p>
        <p>© 2025 Cuberry Project - Not affiliated with any of the games present in the launcher.</p>
    </footer>

    <script>
        async function setDownloadLink() {
            const downloadLink = document.getElementById('downloadBinary');
            try {
                const response = await fetch('https://api.github.com/repos/AndusDEV/Cuberry/releases/latest');
                if (!response.ok) throw new Error('Failed to fetch release info');
                const release = await response.json();

                const asset = release.assets.find(a => a.name.toLowerCase() === 'cuberry.zip');
                if (!asset) throw new Error('Cuberry.zip asset not found in latest release');

                downloadLink.href = asset.browser_download_url;
            } catch (err) {
                downloadLink.href = '#';
                downloadLink.onclick = (e) => {
                    e.preventDefault();
                    alert('Error loading download link: ' + err.message);
                };
            }
        }

        window.addEventListener('DOMContentLoaded', setDownloadLink);
    </script>
</body>

</html>